<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/css/bootstrap-select.min.css">
  <link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,700&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css">
  <link rel="stylesheet" href="spain.css">
  <link rel="stylesheet" href="spain.css">
</head>
<body>

  <nav class="navbar navbar-default" style="margin-bottom: 10px;">
      <div class="container-fluid" style="font-weight: 600">
          <div class="navbar-header">
            <a class="navbar-brand" style="font-size: 20px;" href="#">Empty Spain</a>
          </div>
          <ul class="nav navbar-nav">
            <li class="active" style="font-size: 16px;"><a href="#splom_tab">Splom</a></li>
            <li style="font-size: 16px;"><a href="#comp_tab">Variable Comparison</a></li>
          </ul>
      </div>
  </nav>

  <div id="buttons">
   <!--  <h2 id="title" style="font-weight: bold;">Empty Spain</h1>
 -->
    <form style="padding-left: 15px;">
        <div class="radio">
          <label><input class="time_selection selection" type="radio" name="time" value="flow"> MIGRATION FLOW</label>
        </div>
        <div class="radio">
          <label><input class="time_selection selection" type="radio" name="time" value="net"> NET MIGRATION</label>
        </div>
        <div class="radio">
          <label><input class="time_selection selection" type="radio" name="time" value="urbanizacion"> URBANIZATION</label>
        </div>
      </form>
  </div>

<div id="splom_tab">  
  <div class="header">
    <div class="custom-select">
      <select id="0splom" class="splom_select selectpicker col-sm-3">
        <option value="PresupuestosTot">Public spending</option>
        <option value="PresupuestosNorm">Public spending per capita</option>
        <option value="Agrario">Agriculture % of workforce</option>
        <option value="Paro">Unemployment</option>
        <option value="Poblacion">Population</option>
        <option value="PIB">GDP per capita</option>
        <option value="Flow" title="Emigration flow">Emigration flow from selected province</option>
        <option value="net">Net migration</option>
        <option value="netnorm">Net migration normalized</option>
        <option value="Doctores18" title="Number of doctors">Number of doctors per 10000 people</option>
        <option value="quiebras">Bankruptcies</option>
        <option value="quiebraspc">Bankruptcies normalized</option>
        <option value="imd">R&D businesses</option>
        <option value="imdnorm">R&D businesses normalized</option>
        <option value="natalidad">Birth rate</option>
      </select>
      <select id="1splom" class="splom_select selectpicker col-sm-3">
        <option value="PresupuestosTot">Public spending</option>
        <option value="PresupuestosNorm">Public spending per capita</option>
        <option value="Agrario">Agriculture % of workforce</option>
        <option value="Paro">Unemployment</option>
        <option value="Poblacion">Population</option>
        <option value="PIB">GDP</option>
        <option value="Flow" title="Emigration flow">Emigration flow from selected province</option>
        <option value="net">Net migration</option>
        <option value="netnorm">Net migration normalized</option>
        <option value="Doctores18" title="Number of doctors">Number of doctors per 10000 people</option>
        <option value="quiebras">Bankruptcies</option>
        <option value="quiebraspc">Bankruptcies normalized</option>
        <option value="imd">R&D businesses</option>
        <option value="imdnorm">R&D businesses normalized</option>
        <option value="natalidad">Birth rate</option>
      </select>
      <select id="2splom" class="splom_select selectpicker col-sm-3">
        <option value="PresupuestosTot">Public spending</option>
        <option value="PresupuestosNorm">Public spending per capita</option>
        <option value="Agrario">Agriculture % of workforce</option>
        <option value="Paro">Unemployment</option>
        <option value="Poblacion">Population</option>
        <option value="PIB">GDP</option>
        <option value="Flow" title="Emigration flow">Emigration flow from selected province</option>
        <option value="net">Net migration</option>
        <option value="netnorm">Net migration normalized</option>
        <option value="Doctores18" title="Number of doctors">Number of doctors per 10000 people</option>
        <option value="quiebras">Bankruptcies</option>
        <option value="quiebraspc">Bankruptcies normalized</option>
        <option value="imd">R&D businesses</option>
        <option value="imdnorm">R&D businesses normalized</option>
        <option value="natalidad">Birth rate</option>
      </select>
      <select id= "3splom" class="splom_select selectpicker col-sm-3"> 
        <option value="PresupuestosTot">Public spending</option>
        <option value="PresupuestosNorm">Public spending per capita</option>
        <option value="Agrario">Agriculture % of workforce</option>
        <option value="Paro">Unemployment</option>
        <option value="Poblacion">Population</option>
        <option value="PIB">GDP</option>
        <option value="Flow" title="Emigration flow">Emigration flow from selected province</option>
        <option value="net">Net migration</option>
        <option value="netnorm">Net migration normalized</option>
        <option value="Doctores18" title="Number of doctors">Number of doctors per 10000 people</option>
        <option value="quiebras">Bankruptcies</option>
        <option value="quiebraspc">Bankruptcies normalized</option>
        <option value="imd">R&D businesses</option>
        <option value="imdnorm">R&D businesses normalized</option>
        <option value="natalidad">Birth rate</option>
      </select>

    </div>
  </div>
  <div class="clearfix">
    <div id="svg_map">
      <div id="chart-container">
        <canvas id="myChart" ></canvas>
      </div>
    </div>
    <div id="svg_splom">
    </div>
    <div id="info">
      <!-- <b id="where"></b><br/>
      <b id="who"></b> -->
    </div> 
  </div>
</div>

<div id="comp_tab"> 
  <h2 class="title" style="font-weight: bold;">Comparison</h2> 
  <h4 class="subtitle">Choose up to 3 provinces to compare the variable desired</h6>
  <div class="clearfix">
  <div class="custom-select2">
    <div>
      <button type="button" id="deselect" class="btn">Deselect All</button>
    </div>
    <div id="comp1">
      <select id="province_select" class="selectpicker comp_select dropdown" data-dropup-auto="false" multiple title='Choose a province' data-max-options="3" data-live-search="true">
          <optgroup label="Urban" >
            <option data-tokens="urban" value="08">Barcelona</option>
            <option data-tokens="urban" value="20">Guipúzcoa</option>
            <option data-tokens="urban" value="28">Madrid</option>
            <option data-tokens="urban" value="29">Málaga</option>
            <option data-tokens="urban" value="41">Sevilla</option>
            <option data-tokens="urban" value="46">Valencia</option>
            <option data-tokens="urban" value="48">Vizcaya</option>
            <option data-tokens="urban" value="50">Zaragoza</option>
          </optgroup>
          <optgroup label="Intermidiate">
            <option data-tokens="intermidiate" value="01">Álava</option>
            <option data-tokens="intermidiate" value="03">Alicante</option>
            <option data-tokens="intermidiate" value="04">Almeria</option>
            <option data-tokens="intermidiate" value="33">Asturias</option>
            <option data-tokens="intermidiate" value="05">Ávila</option>
            <option data-tokens="intermidiate" title="Baleares" value="07">Islas Baleares</option>
            <option data-tokens="intermidiate" value="09">Burgos</option>
            <option data-tokens="intermidiate" value="11">Cádiz</option>
            <option data-tokens="intermidiate" value="39">Cantabria</option>
            <option data-tokens="intermidiate" value="12">Castellón</option>
            <option data-tokens="intermidiate" value="14">Cordoba</option>
            <option data-tokens="intermidiate" value="15">A Coruña</option>
            <option data-tokens="intermidiate" value="17">Girona</option>
            <option data-tokens="intermidiate" value="18">Granada</option>
            <option data-tokens="intermidiate" value="21">Huelva</option>
            <option data-tokens="intermidiate" value="24">León</option>
            <option data-tokens="intermidiate" value="26">La Rioja</option>
            <option data-tokens="intermidiate" value="30">Murcia</option>
            <option data-tokens="intermidiate" value="31">Navarra</option>
            <option data-tokens="intermidiate" value="34">Palencia</option>
            <option data-tokens="intermidiate" value="35">Las Palmas</option>
            <option data-tokens="intermidiate" value="36">Pontevedra</option>
            <option data-tokens="intermidiate" value="37">Salamanca</option>
            <option data-tokens="intermidiate" value="38" title="Tenerife">Santa Cruz de Tenerife</option>
            <option data-tokens="intermidiate" value="43">Tarragona</option>
            <option data-tokens="intermidiate" value="47">Valladolid</option>
          </optgroup>
          <optgroup label="Rural" data-tokens="rural">
            <option data-tokens="rural" value="2">Albacete</option>
            <option data-tokens="rural"value="6">Badajoz</option>
            <option data-tokens="rural" value="10">Cáceres</option>
            <option data-tokens="rural" value="13">Ciudad Real</option>
            <option data-tokens="rural" value="16">Cuenca</option>
            <option data-tokens="rural" value="19">Guadalajara</option>
            <option data-tokens="rural" value="22">Huesca</option>
            <option data-tokens="rural" value="23">Jaén</option>
            <option data-tokens="rural" value="25">LLeida</option>
            <option data-tokens="rural" value="27">Lugo</option>
            <option data-tokens="rural" value="32">Ourense</option>
            <option data-tokens="rural" value="40">Segovia</option>
            <option data-tokens="rural" value="42">Soria</option>
            <option data-tokens="rural" value="44">Teruel</option>
            <option data-tokens="rural" value="45">Toledo</option>
            <option data-tokens="rural" value="49">Zamora</option>
          </optgroup>
      </select>
    </div>
    <div id="comp2">
      <select id="var_select" class="selectpicker comp_select dropdown" data-dropup-auto="false">
        <option value="PresupuestosTot">Public spending</option>
        <option value="PresupuestosNorm">Public spending per capita</option>
        <option value="Agrario">Agriculture % of workforce</option>
        <option value="Paro">Unemployment</option>
        <option value="Poblacion">Population</option>
        <option value="PIB">GDP</option>
        <option value="Flow" title="Emigration flow">Emigration flow from selected province</option>
        <option value="net">Net migration</option>
        <option value="netnorm">Net migration normalized</option>
        <option value="Doctores18" title="Number of doctors">Number of doctors per 10000 people</option>
        <option value="quiebras">Bankruptcies</option>
        <option value="quiebraspc">Bankruptcies normalized</option>
        <option value="imd">R&D businesses</option>
        <option value="imdnorm">R&D businesses normalized</option>
        <option value="natalidad">Birth rate</option>
      </select>
    </div>
  </div>
  <div id="comp-container" style="width: 50%; height: 520px; float: left; margin-bottom: 5px;">
    <canvas id="compChart"></canvas>
  </div>
  <div id="legend_barchar">
  </div>
  </div>
</div>


  


<script src="//d3js.org/d3.v4.min.js"></script>
<script src="https://unpkg.com/d3-simple-slider"></script>
<script src="https://unpkg.com/d3-composite-projections@1.2.0"></script>
<script src="data/geodata.js"></script>
<script src="data/splom_data.js"></script>
<script src="data/nombres_provincias.js"></script>
<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.9/dist/js/bootstrap-select.min.js"></script>
<script src="//d3js.org/topojson.v1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
<script src="spain.js"></script>

</body>
</html> 